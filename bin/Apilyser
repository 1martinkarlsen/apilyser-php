#!/usr/bin/env php
<?php

use Apilyser\Command\ValidateApiCommand;
use Symfony\Component\Console\Application;

$autoloadPaths = [
    __DIR__ . '/../../../autoload.php',     // vendor/yourlib/bin/../../../autoload.php = vendor/autoload.php
    __DIR__ . '/../../examples/php-backend/vendor/autoload.php', // Symlinked (../../php/bin/ -> ../../vendor/)
    __DIR__ . '/../vendor/autoload.php',    // NÃ¥r du udvikler library'et selv
];

$loaded = false;
foreach ($autoloadPaths as $file) {
    if (file_exists($file)) {
        require $file;
        $loaded = true;
        break;
    }
}

if (!$loaded) {
    die('Autoloader not found');
}

$application = new Application();

$application->add(new ValidateApiCommand());

$application->run();